#= depend_on_asset "list-of-events.html"
#= depend_on_asset "show-selected-event.html"
#= depend_on_asset "list-of-members.html"
#= depend_on_asset "list-of-payments.html"
#= depend_on_asset "payments-chart.html"

#= depend_on_asset "new-payment-form.html"


(function() { 
  'use strict'; 
  
  
app.directive('listOfEvents', function() { 
  return { 
    restrict: 'AEC', 
    templateUrl: "<%= asset_path('list-of-events.html') %>"
  } 
})
app.directive('showSelectedEvent', function() { 
  return { 
    restrict: 'AEC', 
    templateUrl: "<%= asset_path('show-selected-event.html') %>"
  } 
}) 
app.directive('listOfMembers', function() { 
  return { 
    restrict: 'AEC', 
    templateUrl: "<%= asset_path('list-of-members.html') %>"
  } 
}) 

app.directive('listOfPayments', function() { 
  return { 
    restrict: 'AEC', 
    templateUrl: "<%= asset_path('list-of-payments.html') %>"
  } 
}) 

app.directive('paymentsChart', function() { 
  return { 
    restrict: 'AEC', 
    templateUrl: "<%= asset_path('payments-chart.html') %>"
  } 
}) 

app.directive('newPayment', function(){

  return {
      restrict: 'AEC',
      templateUrl: "<%= asset_path('new-payment-form.html') %>"
  }
})

app.directive('uiDate', function() {
    return {
      require: '?ngModel',
      link: function($scope, element, attrs, controller) {
        var originalRender, updateModel, usersOnSelectHandler;
        if ($scope.uiDate == null) $scope.uiDate = {};
        if (controller != null) {
          updateModel = function(value, picker) {
            return $scope.$apply(function() {
              return controller.$setViewValue(element.datepicker("getDate"));
            });
          };
          if ($scope.uiDate.onSelect != null) {
            usersOnSelectHandler = $scope.uiDate.onSelect;
            $scope.uiDate.onSelect = function(value, picker) {
              updateModel(value);
              return usersOnSelectHandler(value, picker);
            };
          } else {
            $scope.uiDate.onSelect = updateModel;
          }
          originalRender = controller.$render;
          controller.$render = function() {
            originalRender();
            return element.datepicker("setDate", controller.$viewValue);
          };
        }
      return element.datepicker($scope.uiDate);
      }
    };
  });
})();
